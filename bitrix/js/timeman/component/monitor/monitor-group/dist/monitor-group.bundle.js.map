{"version":3,"file":"monitor-group.bundle.js","sources":["../src/group-item/group-item.js","../src/monitor-group.js"],"sourcesContent":["import {Vuex} from 'ui.vuex';\nimport {BitrixVue} from \"ui.vue\";\nimport {Time} from \"timeman.mixin\";\nimport {EntityType, EntityGroup} from \"timeman.const\";\nimport \"ui.icons\";\nimport \"ui.vue.components.hint\";\n\nimport \"./group-item.css\"\n\nexport const GroupItem = BitrixVue.localComponent('bx-timeman-component-monitor-monitor-group-group-item', {\n\tmixins: [Time],\n\tprops: [\n\t\t'readOnly',\n\t\t'group',\n\t\t'privateCode',\n\t\t'type',\n\t\t'title',\n\t\t'time',\n\t\t'allowedTime',\n\t\t'comment',\n\t\t'hint',\n\t],\n\tdata: function() {\n\t\treturn {\n\t\t\taction: ''\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\t...Vuex.mapGetters('monitor',[\n\t\t\t'getSiteDetailByPrivateCode',\n\t\t]),\n\t\t...Vuex.mapState({\n\t\t\tmonitor: state => state.monitor,\n\t\t}),\n\t\tEntityType: () => EntityType,\n\t\tEntityGroup: () => EntityGroup,\n\t},\n\tmethods:\n\t{\n\t\taddPersonal(privateCode)\n\t\t{\n\t\t\tthis.$store.dispatch('monitor/addPersonal', privateCode);\n\t\t},\n\t\tremovePersonal(privateCode)\n\t\t{\n\t\t\tif (this.type === EntityType.absence && this.comment.trim() === '')\n\t\t\t{\n\t\t\t\tthis.action = () => this.$store.dispatch('monitor/removePersonal', this.privateCode);\n\t\t\t\tthis.onCommentClick();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.dispatch('monitor/removePersonal', privateCode);\n\t\t},\n\t\taddToStrictlyWorking(privateCode)\n\t\t{\n\t\t\tif (this.type === EntityType.absence && this.comment.trim() === '')\n\t\t\t{\n\t\t\t\tthis.action = () => this.$store.dispatch('monitor/addToStrictlyWorking', privateCode);\n\t\t\t\tthis.onCommentClick();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.dispatch('monitor/addToStrictlyWorking', privateCode);\n\t\t},\n\t\tremoveFromStrictlyWorking(privateCode)\n\t\t{\n\t\t\tthis.$store.dispatch('monitor/removeFromStrictlyWorking', privateCode);\n\t\t},\n\t\tonCommentClick(event)\n\t\t{\n\t\t\tthis.$emit('commentClick', {\n\t\t\t\tevent,\n\t\t\t\tgroup: this.group,\n\t\t\t\tcontent: {\n\t\t\t\t\tprivateCode: this.privateCode,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\ttime: this.time,\n\t\t\t\t\tcomment: this.comment,\n\t\t\t\t\ttype: this.type,\n\t\t\t\t},\n\t\t\t\tonSaveComment: this.action,\n\t\t\t});\n\t\t},\n\t\tonDetailClick(event)\n\t\t{\n\t\t\tthis.$emit('detailClick', {\n\t\t\t\tevent,\n\t\t\t\tgroup: this.group,\n\t\t\t\tcontent: {\n\t\t\t\t\tprivateCode: this.privateCode,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\tdetail: this.getSiteDetailByPrivateCode(this.privateCode),\n\t\t\t\t\ttime: this.time,\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\t// language=Vue1\n\ttemplate: `\n    \t<div class=\"bx-monitor-group-item-wrap\">\n\t\t\t<div class=\"bx-monitor-group-item\"> \t\t\t  \n\t\t\t\t<template v-if=\"type !== EntityType.group\">\t\t\t\t\t  \n\t\t\t\t\t<div class=\"bx-monitor-group-item-container\">\n\t\t\t\t\t\t<div class=\"bx-monitor-group-item-title-container\">\n\t\t\t\t\t\t  \t<div\t\t\t\t\t\t\t\t\t\n                                v-if=\"type === EntityType.absence\"\n                                class=\"bx-monitor-group-item-title-small\"\n\t\t\t\t\t\t\t>\n                              {{ title }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else class=\"bx-monitor-group-item-title\">\n\t\t\t\t\t\t\t\t<template v-if=\"type !== EntityType.site || readOnly\">\n\t\t\t\t\t\t\t\t\t{{ title }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t\t@click=\"onDetailClick\" \n\t\t\t\t\t\t\t\t\t\thref=\"#\" \n\t\t\t\t\t\t\t\t\t\tclass=\"bx-monitor-group-site-title\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ title }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<bx-hint v-if=\"hint\" :text=\"hint\"/>\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tv-if=\"group === EntityGroup.working.value\" \n\t\t\t\t\t\t\t\tclass=\"bx-monitor-group-item-button-comment ui-icon ui-icon-xs\"\n\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t  'ui-icon-service-imessage': comment, \n\t\t\t\t\t\t\t\t  'ui-icon-service-light-imessage': !comment \n\t\t\t\t\t\t\t\t}\"\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i \n\t\t\t\t\t\t\t\t\t@click=\"onCommentClick\" \n\t\t\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\t\t  backgroundColor: comment ? EntityGroup.working.primaryColor : 'transparent'\n\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-monitor-group-item-time\">\n\t\t\t\t\t\t\t{{ time }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if=\"group === EntityGroup.personal.value && !readOnly\"\n\t\t\t\t\t\t@click=\"removePersonal(privateCode)\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-xs ui-btn-light-border ui-btn-round bx-monitor-group-btn-right\"\n\t\t\t\t\t>\n                    \t{{ $Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_BUTTON_TO_WORKING') }}\n\t\t\t\t\t</button>\t\t\t\t\t  \n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\tgroup === EntityGroup.working.value \n\t\t\t\t\t\t\t&& type !== EntityType.unknown \n\t\t\t\t\t\t\t&& !readOnly\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@click=\"addPersonal(privateCode)\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-xs ui-btn-light-border ui-btn-round bx-monitor-group-btn-right\" \t\t\t\t\t\t\n\t\t\t\t\t>\n                    \t{{ $Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_BUTTON_TO_PERSONAL') }}\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"bx-monitor-group-item-container\">\n\t\t\t\t\t\t<div class=\"bx-monitor-group-item-title-container\">\n\t\t\t\t\t\t\t<div class=\"bx-monitor-group-item-title-full\">\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{{ title }}\n\t\t\t\t\t\t\t</div>\n                          \t<bx-hint v-if=\"hint\" :text=\"hint\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-monitor-group-item-menu\">\n\t\t\t\t\t\t\t<div class=\"bx-monitor-group-item-time\">\n\t\t\t\t\t\t\t\t{{ time }} / {{ allowedTime }}\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t  \n\t\t\t\t\t\t</div>\n\t\t\t\t  </div>\t\t\t\t  \n\t\t\t\t</template>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t`\n});","import {Vue} from \"ui.vue\";\nimport {Vuex} from 'ui.vuex';\nimport {Time} from \"timeman.mixin\";\nimport {EntityType, EntityGroup} from \"timeman.const\";\nimport {GroupItem} from './group-item/group-item';\nimport {MountingPortal} from 'ui.vue.portal';\nimport {PopupManager} from 'main.popup';\nimport {MessageBox} from 'ui.dialogs.messagebox';\n\nimport \"ui.icons\";\n\nimport \"./monitor-group.css\";\n\nVue.component('bx-timeman-component-monitor-group', {\n\tcomponents:\n\t{\n\t\tGroupItem,\n\t\tMountingPortal\n\t},\n\tmixins: [Time],\n\tprops: ['group', 'readOnly'],\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\trefreshCount: 0,\n\t\t\tpopupInstance: null,\n\t\t\tpopupIdSelector: !!this.readOnly ? '#bx-timeman-pwt-popup-preview' :  '#bx-timeman-pwt-popup-editor',\n\t\t\tpopupContent: {\n\t\t\t\tprivateCode: '',\n\t\t\t\ttitle: '',\n\t\t\t\ttime: '',\n\t\t\t\tcomment: '',\n\t\t\t\tdetail: '',\n\t\t\t\ttype: '',\n\t\t\t\tonSaveComment: '',\n\t\t\t},\n\t\t\tcomment: '',\n\t\t\tisCommentPopup: false,\n\t\t\tisDetailPopup: false,\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tsetInterval(() => this.refreshCount++, 60000);\n\t},\n\tcomputed:\n\t{\n\t\t...Vuex.mapGetters('monitor',[\n\t\t\t'getWorkingEntities',\n\t\t\t'getPersonalEntities',\n\t\t]),\n\t\t...Vuex.mapState({\n\t\t\tmonitor: state => state.monitor,\n\t\t}),\n\t\tEntityType: () => EntityType,\n\t\tEntityGroup: () => EntityGroup,\n\t\tdisplayedGroup()\n\t\t{\n\t\t\tif (this.EntityGroup.getValues().includes(this.group))\n\t\t\t{\n\t\t\t\treturn this.EntityGroup[this.group];\n\t\t\t}\n\t\t},\n\t\titems()\n\t\t{\n\t\t\tthis.refreshCount;\n\n\t\t\tswitch(this.displayedGroup.value)\n\t\t\t{\n\t\t\t\tcase EntityGroup.working.value:\n\t\t\t\t\treturn this.getWorkingEntities;\n\n\t\t\t\tcase EntityGroup.personal.value:\n\t\t\t\t\treturn this.getPersonalEntities;\n\t\t\t}\n\t\t},\n\t\ttime()\n\t\t{\n\t\t\tthis.refreshCount;\n\n\t\t\tswitch(this.displayedGroup.value)\n\t\t\t{\n\t\t\t\tcase EntityGroup.working.value:\n\t\t\t\t\treturn this.workTime;\n\n\t\t\t\tcase EntityGroup.personal.value:\n\t\t\t\t\treturn this.personalTime;\n\t\t\t}\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonCommentClick(event)\n\t\t{\n\t\t\tthis.isCommentPopup = true;\n\t\t\tthis.popupContent.privateCode = event.content.privateCode;\n\t\t\tthis.popupContent.title = event.content.title;\n\t\t\tthis.popupContent.time = event.content.time;\n\t\t\tthis.popupContent.type = event.content.type;\n\t\t\tthis.popupContent.onSaveComment = event.onSaveComment;\n\t\t\tthis.comment = event.content.comment;\n\n\t\t\tif (this.popupInstance !== null)\n\t\t\t{\n\t\t\t\tthis.popupInstance.destroy();\n\t\t\t\tthis.popupInstance = null;\n\t\t\t}\n\n\t\t\tconst popup = PopupManager.create({\n\t\t\t\tid: \"bx-timeman-pwt-external-data\",\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tbindOptions: {position: \"top\"},\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupDestroy: () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isCommentPopup = false;\n\t\t\t\t\t\tthis.popupInstance = null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t//little hack for correct open several popups in a row.\n\t\t\tthis.$nextTick(() => this.popupInstance = popup);\n\t\t},\n\t\tonDetailClick(event: BaseEvent)\n\t\t{\n\t\t\tthis.isDetailPopup = true;\n\t\t\tthis.popupContent.privateCode = event.content.privateCode;\n\t\t\tthis.popupContent.title = event.content.title;\n\t\t\tthis.popupContent.time = event.content.time;\n\t\t\tthis.popupContent.detail = event.content.detail;\n\n\t\t\tif (this.popupInstance !== null)\n\t\t\t{\n\t\t\t\tthis.popupInstance.destroy();\n\t\t\t\tthis.popupInstance = null;\n\t\t\t}\n\n\t\t\tconst popup = PopupManager.create({\n\t\t\t\tid: \"bx-timeman-pwt-external-data\",\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tbindOptions: {position: \"top\"},\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupDestroy: () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.isDetailPopup = false;\n\t\t\t\t\t\tthis.popupInstance = null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t//little hack for correct open several popups in a row.\n\t\t\tthis.$nextTick(() => this.popupInstance = popup);\n\t\t},\n\t\tsaveComment(privateCode)\n\t\t{\n\t\t\tif (this.comment.trim() === '' && this.popupContent.type === EntityType.absence)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.dispatch('monitor/setComment', {\n\t\t\t\tprivateCode,\n\t\t\t\tcomment: this.comment\n\t\t\t});\n\n\t\t\tif (typeof this.popupContent.onSaveComment === 'function')\n\t\t\t{\n\t\t\t\tthis.popupContent.onSaveComment();\n\t\t\t}\n\n\t\t\tthis.popupInstance.destroy();\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\t\t  \n\t\t<div class=\"bx-monitor-group-wrap\">\t\t\t\n\t\t\t<div class=\"bx-monitor-group\">\t\t\t\t  \n\t\t\t\t<div class=\"bx-monitor-group-header\" v-bind:style=\"{ background: displayedGroup.secondaryColor }\">\n\t\t\t\t\t<div class=\"bx-monitor-group-title-wrap\">\n\t\t\t\t\t\t<div class=\"bx-monitor-group-title\">\n\t\t\t\t\t\t\t{{ displayedGroup.title }}\n                        </div>\n                      \t<div class=\"bx-monitor-group-title-wrap\">\n\t\t\t\t\t\t\t<div class=\"bx-monitor-group-subtitle\">\n                              {{ formatSeconds(time) }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"!readOnly\" class=\"bx-monitor-group-subtitle-wrap\">\n\t\t\t\t\t\t<div class=\"bx-monitor-group-hint\">\n\t\t\t\t\t\t\t{{ displayedGroup.hint }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-monitor-group-content\" v-bind:style=\"{ background: displayedGroup.lightColor }\">\n\t\t\t\t\t<transition-group name=\"bx-monitor-group-item\" class=\"bx-monitor-group-content-wrap\">\t\t\t\t\t\t  \n\t\t\t\t\t  \n                      <GroupItem\n\t\t\t\t\t\tv-for=\"item of items\"\n                        :key=\"item.privateCode ? item.privateCode : item.title\"\n\t\t\t\t\t\t:group=\"displayedGroup.value\"\n\t\t\t\t\t\t:privateCode=\"item.privateCode\"\n\t\t\t\t\t  \t:type=\"item.type\"\n\t\t\t\t\t\t:title=\"item.title\"\n                        :comment=\"item.comment\"\n\t\t\t\t\t\t:time=\"formatSeconds(item.time)\"\n\t\t\t\t\t\t:allowedTime=\"item.allowedTime ? formatSeconds(item.allowedTime) : null\"\n\t\t\t\t\t\t:readOnly=\"!!readOnly\"\n\t\t\t\t\t\t:hint=\"item.hint !== '' ? item.hint : null\"\n                        @commentClick=\"onCommentClick\"\n                        @detailClick=\"onDetailClick\"\n\t\t\t\t\t  />\n                      \t\t\t\t\t\t  \n\t\t\t\t\t</transition-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\n            <mounting-portal :mount-to=\"popupIdSelector\" append v-if=\"popupInstance\">\n            \t<div class=\"bx-timeman-monitor-popup-wrap\">\t\t\t\t\t\n\t\t\t\t\t<div class=\"popup-window popup-window-with-titlebar ui-message-box ui-message-box-medium-buttons popup-window-fixed-width popup-window-fixed-height\" style=\"padding: 0\">\n\t\t\t\t\t\t<div class=\"bx-timeman-monitor-popup-title popup-window-titlebar\">\n\t\t\t\t\t  \t\t<span class=\"popup-window-titlebar-text\">\n\t\t\t\t\t\t\t\t{{ popupContent.title }}\n\t\t\t\t\t \t\t</span>\n\t\t\t\t\t\t\t<span class=\"popup-window-titlebar-text\">\n\t\t\t\t\t\t\t\t{{ popupContent.time }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"popup-window-content\" style=\"overflow: auto; background: transparent;\">\n\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\tclass=\"bx-timeman-monitor-popup-input\"\n\t\t\t\t\t\t\t\tid=\"bx-timeman-monitor-popup-input-comment\"\n\t\t\t\t\t\t\t\tv-if=\"isCommentPopup\"\n\t\t\t\t\t\t\t\t:placeholder=\"$Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_ITEM_COMMENT')\"\n\t\t\t\t\t\t\t\tv-model=\"comment\"\n                                @keydown.enter.prevent=\"saveComment(popupContent.privateCode)\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n                            />\n\t\t\t\t\t\t\t<div v-if=\"isDetailPopup\" class=\"bx-timeman-monitor-popup-items-container\">\n\t\t\t\t\t\t\t  \t<div \n\t\t\t\t\t\t\t\t\tv-for=\"detailItem in popupContent.detail\" \n\t\t\t\t\t\t\t\t\tclass=\"bx-timeman-monitor-popup-item\"\n\t\t\t\t\t\t\t  \t>\n\t\t\t\t\t\t\t\t\t<div class=\"bx-timeman-monitor-popup-content\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"bx-timeman-monitor-popup-content-title\">\n                                        \t{{ detailItem.siteTitle }}\n                                      \t</div>\n                                      \t<div class=\"bx-timeman-monitor-popup-content-title\">\n                                        \t<a target=\"_blank\" :href=\"detailItem.siteUrl\" class=\"bx-timeman-monitor-popup-content-title\">\n                                        \t\t{{ detailItem.siteUrl }}\n                                        \t</a>\n                                      \t</div>\n                                    </div>\n                                    <div class=\"bx-timeman-monitor-popup-time\">\n                                    \t{{ formatSeconds(detailItem.time) }}\n                                    </div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"popup-window-buttons\">\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tv-if=\"isCommentPopup\" \n\t\t\t\t\t\t\t\t@click=\"saveComment(popupContent.privateCode)\" \n\t\t\t\t\t\t\t\tclass=\"ui-btn ui-btn-md ui-btn-primary\"\n\t\t\t\t\t\t\t\t:class=\"{'ui-btn-disabled': (comment.trim() === '' && popupContent.type === EntityType.absence)}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"ui-btn-text\">\n\t\t\t\t\t\t\t\t\t{{ $Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_BUTTON_OK') }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t  \t<button @click=\"popupInstance.destroy()\" class=\"ui-btn ui-btn-md ui-btn-light\">\n\t\t\t\t\t\t\t\t<span v-if=\"isCommentPopup\" class=\"ui-btn-text\">\n\t\t\t\t\t\t\t\t\t{{ $Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_BUTTON_CANCEL') }}\n\t\t\t\t\t\t\t\t</span>\n                              \t<span v-if=\"isDetailPopup\" class=\"ui-btn-text\">\n\t\t\t\t\t\t\t\t\t{{ $Bitrix.Loc.getMessage('TIMEMAN_MONITOR_GROUP_BUTTON_CLOSE') }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t</div>\n            </mounting-portal>\n\t\t</div>\n\t`\n});"],"names":["GroupItem","BitrixVue","localComponent","mixins","Time","props","data","action","computed","Vuex","mapGetters","mapState","monitor","state","EntityType","EntityGroup","methods","addPersonal","privateCode","$store","dispatch","removePersonal","type","absence","comment","trim","onCommentClick","addToStrictlyWorking","removeFromStrictlyWorking","event","$emit","group","content","title","time","onSaveComment","onDetailClick","detail","getSiteDetailByPrivateCode","template","Vue","component","components","MountingPortal","refreshCount","popupInstance","popupIdSelector","readOnly","popupContent","isCommentPopup","isDetailPopup","created","setInterval","displayedGroup","getValues","includes","items","value","working","getWorkingEntities","personal","getPersonalEntities","workTime","personalTime","destroy","popup","PopupManager","create","id","targetContainer","document","body","autoHide","closeByEsc","bindOptions","position","events","onPopupDestroy","$nextTick","saveComment"],"mappings":"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"}